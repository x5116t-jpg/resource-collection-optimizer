# クイックスタートガイド

**資源回収ルート最適化システムを5分で使い始める**

---

## 🚀 はじめに

このガイドでは、システムの起動から最初の最適化実行まで、最短ルートで説明します。
詳しい説明は [使い方マニュアル](user_manual.md) をご覧ください。

---

## ステップ1: システムを起動する（1分）

### 方法A: バッチファイル（推奨・最も簡単）

1. プロジェクトフォルダを開く
2. `run_app.bat` をダブルクリック
3. ブラウザが自動的に開きます

### 方法B: コマンドライン

```bash
cd "D:\py\Resource Collection\ResouceCollection_05"
.venv\Scripts\activate
streamlit run src/app.py
```

**確認**: ブラウザに「資源回収ルート最適化ツール」と表示されればOK！

---

## ステップ2: 道路ネットワークを選択（10秒）

左側のサイドバーで、道路ネットワークファイルを選択します。

```
[サイドバー]
道路ネットワークファイル
▼ road_network_20251017_154630.json  ← これを選択
```

**確認**: 「ノード数」と「エッジ数」が表示されればOK！

---

## ステップ3: 地点を選択する（2分）

### 3-1. 車庫を設定

1. 「地図クリックモード」で **「車庫」** を選択
2. 地図上の好きな場所をクリック

```
地図クリックモード:
● 車庫  ○ 回収地点  ○ 集積場所
👆選択
```

**確認**: 🟢緑色のマーカーが表示されればOK！

### 3-2. 回収地点を追加（2〜3箇所）

1. 「地図クリックモード」で **「回収地点」** を選択
2. 地図上をクリック
3. ダイアログで入力：
   - **回収量**: 例）100 kg
   - **資源種別**: 例）紙
4. **「追加」** をクリック
5. 必要な数だけ繰り返す

**確認**: 🔵青色のマーカーが複数表示されればOK！

### 3-3. 集積場所を設定

1. 「地図クリックモード」で **「集積場所」** を選択
2. 地図上の別の場所をクリック

**確認**: 🔴赤色のマーカーが表示されればOK！

---

## ステップ4: 最適化を実行（30秒）

1. 下にスクロールして **「実行前チェック」** を確認
2. すべて ✅ になっていることを確認
3. **「最適化を実行」** ボタンをクリック
4. 完了を待つ（数秒〜数十秒）

```
✅ 実行前チェック
✅ 車庫が設定されている
✅ 集積場所が設定されている
✅ 回収地点が1箇所以上ある
   ...

[最適化を実行]  ← クリック！
```

**確認**: プログレスバーが100%になり、結果が表示されればOK！

---

## ステップ5: 結果を確認（1分）

実行が完了すると、以下が表示されます：

### 📊 サマリー

```
✅ 最適化が完了しました。

総距離 [km]              18.5 km
総コスト [円]            2,220円
エネルギー消費量 [kWh]    3.7 kWh
```

### 🗺️ ルート地図

- 番号付きマーカーで訪問順序を確認
- 青い線がルート

### 💰 コスト詳細

- 固定費・変動費の内訳
- 詳細な項目別コスト

---

## 🎉 完了！

おめでとうございます！
これで基本的な使い方はマスターです。

---

## 📚 次のステップ

### もっと詳しく知りたい

- [使い方マニュアル](user_manual.md) - 全機能の詳細説明
- [システムフロー図](system_flowchart_simple.svg) - システムの仕組み
- [技術詳細](system_flowchart_explanation.md) - 技術的な背景

### よくある操作

#### 回収地点を編集したい

1. 下にスクロールして「選択済み回収地点」を探す
2. 該当の地点を展開
3. 値を変更して「更新」をクリック

#### 回収地点を削除したい

1. 「選択済み回収地点」で該当地点を展開
2. 🗑️ ボタンをクリック

#### 車種を変更したい

1. 下にスクロールして「車種候補」テーブルを探す
2. セルをクリックして編集
3. Enterで確定

#### やり直したい

- **すべてリセット**: ブラウザを再読み込み（F5）
- **回収地点だけクリア**: 「すべての回収地点をクリア」ボタン

---

## ❓ 困ったときは

### エラーが出た

1. エラーメッセージを読む
2. [使い方マニュアル](user_manual.md) の「トラブルシューティング」を確認
3. ブラウザを再読み込み（F5）
4. それでも解決しない → システム管理者に連絡

### 地図が表示されない

- ブラウザを変えてみる（Chrome推奨）
- ページを再読み込み（F5）

### 処理が遅い

- 回収地点を減らす（10〜20箇所を推奨）
- 近い地点同士をまとめる

---

## 💡 便利な機能

### 地図操作

| やりたいこと | 操作 |
|------------|------|
| 拡大 | マウスホイール上 |
| 縮小 | マウスホイール下 |
| 移動 | ドラッグ |
| 地点情報 | マーカーをクリック |

### キーボードショートカット

| 操作 | キー |
|------|------|
| ページ再読み込み | F5 |
| 印刷（PDF保存） | Ctrl + P |

---

## 📖 用語集

| 用語 | 意味 |
|------|------|
| **車庫** | 車両の出発・帰着地点 |
| **回収地点** | 資源を回収する場所 |
| **集積場所** | 回収した資源を集める終点 |
| **ノード** | 道路ネットワーク上の地点 |
| **エッジ** | ノード間の道路 |
| **VRP** | 配送計画問題（Vehicle Routing Problem） |

---

## 🎯 実践例

### 例: 市内3箇所で紙を回収

1. **起動**: `run_app.bat` をダブルクリック
2. **車庫**: 清掃事務所をクリック → 🟢
3. **回収地点A**:
   - 地図でクリック → 🔵
   - 資源: 紙
   - 量: 300 kg
4. **回収地点B**:
   - 地図でクリック → 🔵
   - 資源: 紙
   - 量: 200 kg
5. **回収地点C**:
   - 地図でクリック → 🔵
   - 資源: 紙
   - 量: 150 kg
6. **集積場所**: リサイクルセンターをクリック → 🔴
7. **実行**: 「最適化を実行」をクリック
8. **結果確認**:
   ```
   総距離: 22.3 km
   総コスト: 2,676円
   ルート: 車庫 → A → C → B → 集積場所
   ```

---

## 🔗 リンク

- **詳細マニュアル**: [user_manual.md](user_manual.md)
- **システム説明**: [system_flowchart_explanation.md](system_flowchart_explanation.md)
- **プレゼン資料**: [system_presentation.pptx](system_presentation.pptx)

---

**作成日**: 2025年11月28日
**対象**: 初めてシステムを使う方
**所要時間**: 約5分
